# 📋 모바일 가이드 시스템 개발 논의 (Discussion Log)

**날짜**: 2026-01-10 (Current)
**주제**: 안드로이드 STT 비프음 해결 및 UI 개선

## 1. 안드로이드 STT '띠링' 비프음 제거 방안 (2026-01-10)
 "가이드 폰에서 대기 중에 자꾸 '띠링' 소리가 나요."

*   **원인**: 안드로이드/Chrome의 강제적인 사생활 보호 정책(음성 녹음 시 알림음)으로, 클라이언트단(`app.js`)에서 제어 불가능.
*   **해결책**:
    1.  **[Recorder Mode] 전환**: 단순 방송 시에는 녹음 모드를 사용하여 소리 원천 차단.
    2.  **서버 기반 STT 도입 (장기적)**: 클라이언트가 아닌 서버에서 음성을 분석하는 구조로 변경 필요 (비용 발생).

---

**날짜**: 2026-01-09
**주제**: 테스트 방법, 배포 전략, 하드웨어 추천 및 설치 자동화

## 2. 테스트 방법 (Testing Strategy)
현재 개발 단계에서 모바일 환경을 테스트하는 가장 효율적인 방법입니다.

*   **로컬 네트워크 테스트**: PC(서버) + 핸드폰(관광객). HTTP로 접속 시 마이크 권한 제약 있음.
*   **Replit 테스트 (Cloud)**: HTTPS 제공으로 마이크 테스트 용이하나 인터넷 필수.

## 3. 배포 및 구동 방식 (Deployment)
*   **Scenario A (Cloud)**: AWS/Replit 사용. 전 세계 접속 가능.
*   **Scenario B (Local/Termux) [채택]**: 가이드 폰에서 직접 구동. 오프라인(로컬 AP) 환경 지원. 저지연.

## 4. Termux 서버용 장비 추천 (Hardware)
*   **추천 기기**: 갤럭시 S20 FE, LG V50s (스냅드래곤 865↑, RAM 8GB↑).
*   **설정**: 비행기 모드 + Wi-Fi 권장. 배터리 최적화 끄기 필수.

---

**날짜**: 2026-01-07
**주제**: 모바일 서버 구축 및 태블릿 활용

## 5. 태블릿 서버 활용 가능성
*   **논의**: 태블릿을 전용 서버로 사용 가능한가?
*   **결론**: 가능함. 배터리가 크고 화면이 넓어 관리가 용이함. 태블릿(서버) + 가이드폰(방송) + 여행객폰(수신) 구성 확정.

---

**날짜**: 2026-01-05
**주제**: 아키텍처 설계 (WebRTC vs WebSocket)

## 6. 실시간 오디오 전송 기술 선정
*   **초기 안**: WebSocket으로 단순 바이너리 전송.
*   **문제점**: 1:N 방송 시 서버 부하가 크고 딜레이 발생 가능성.
*   **결정**: **WebRTC(SFU 방식)**를 메인으로 사용하고, WebRTC 연결 실패 시 **WebSocket을 백업(Fallback)**으로 사용하는 하이브리드 구조 채택.
*   **이점**: P2P에 가까운 저지연성 확보 및 서버 부하 분산.

## 7. 대규모 인원(60명) 지원 방안
*   **MVP**: 1 Guide -> 60 Tourists 구조 검증.
*   **확장성**: 추후 인원 증가 시 Kurento/MediaSoup 같은 전문 미디어 서버 도입 고려. 현재는 Python `aiortc`와 직접 구현한 릴레이 로직으로 충분하다고 판단.
