# 📱 2 Phone Setup (Dedicated Server Phone + Guide Phone)

가이드 핸드폰의 부하를 줄이고 안정성을 높이기 위해 **공기계(또는 여분의 폰)를 서버 전용**으로 쓰고, **실제 가이드 폰은 마이크로만** 사용하는 구성입니다.

---

## 1. 구성도 (Diagram)

```
[ 1. 서버폰 (공기계) ]  <--- (유선 LAN 또는 5G WiFi) --->  [ 고성능 공유기 (AP) ]
        |                                                       |
   (서버 구동)                                            ((( 와이파이 신호 )))
        |                                                       |
        +-------------------------------------------------------+
                                |
          +---------------------+---------------------+
          |                     |                     |
[ 2. 가이드 폰 ]        [ 관광객 폰 1 ] ... [ 관광객 폰 60 ]
 (마이크 송신)             (수신)                (수신)
```

## 2. 장점
1.  **발열 분산**: 서버 돌리는 폰과 마이크(화면 켜짐) 쓰는 폰이 분리되어 발열이 적습니다.
2.  **안정성**: 가이드가 전화를 받거나 카톡을 해도 서버는(공기계) 죽지 않습니다.
3.  **배터리**: 가이드 폰의 배터리 소모가 줄어듭니다.

---

## 3. 준비물
1.  **서버 폰 (안드로이드 공기계)**
    *   Termux 설치됨.
    *   전원 상시 연결 권장.
2.  **가이드 폰 (메인 폰)**
    *   아이폰, 안드로이드 상관 없음.
    *   앱 설치 필요 없음 (브라우저 접속).
3.  **고성능 공유기**
4.  **(선택) USB-C 유선 랜카드** (서버 폰용)

---

## 4. 설치 및 연결 순서

### 1단계: 장비 연결 (세팅)
1.  **공유기** 전원 켜기.
2.  **서버 폰(공기계)**:
    *   공유기에 연결 (유선 LAN 추천, 아니면 5GHz 와이파이).
    *   비행기 모드 ON (전화 차단).
3.  **가이드 폰 & 관광객 폰**:
    *   모두 공유기 와이파이(`Guide_WiFi`)에 연결.

### 2단계: 서버 실행 (서버 폰에서)
1.  **서버 폰**에서 Termux 실행.
2.  서버 시작:
    ```bash
    cd songsusin
    python server.py
    ```
3.  **IP 확인**: `ifconfig` 입력 -> IP 주소 메모 (예: `192.168.0.100`)

### 3단계: 가이드 접속 (가이드 폰에서)
1.  가이드 폰 브라우저 켜기.
2.  주소창에 **서버 폰 IP** 입력 (`http://192.168.0.100:5000`).
3.  **"I am Guide"** 선택 -> 마이크 허용 -> **"Start Broadcast"**.
    *   *이제 가이드 폰은 마이크 역할만 합니다.*

### 4단계: 관광객 접속 (관광객 폰에서)
1.  관광객 폰 브라우저 켜기.
2.  주소창에 **서버 폰 IP** 입력 (`http://192.168.0.100:5000`).
    *   *QR코드를 미리 만들어두면 편합니다.*
3.  **"I am Tourist"** 선택 -> **"Tap to Enable Audio"**.

---

## 💡 운영 팁

1.  **서버 폰 위치**:
    *   서버 폰은 가이드 가방이나 공유기 옆에 두고 **건드리지 마세요**.
    *   화면이 꺼져도 Termux가 돌도록 "Wake Lock" 설정을 확인하거나 "화면 켜짐 유지"를 하세요.
2.  **가이드 폰 자유**:
    *   이제 가이드 폰은 서버가 아니므로, 잠시 화면을 끄거나 다른 앱을 봐도(마이크만 켜져 있다면) 서버 전체가 멈추지는 않습니다. (단, 브라우저가 백그라운드에서 마이크를 계속 쓰도록 권한 설정 필요)
3.  **QR코드 활용**:
    *   서버 폰의 IP(`http://192.168.0.100:5000`)를 QR코드로 만들어 코팅해두면, 관광객들이 찍고 바로 들어올 수 있어 매우 편합니다. (네이버 QR코드 등 활용)
