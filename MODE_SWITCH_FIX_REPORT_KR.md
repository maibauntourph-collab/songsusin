# 오디오 모드 전환 오류 수정 보고서

## 문제 상황
방송(Broadcast)을 켜둔 상태에서 **[🎙️ Audio Mode]**를 'STT'에서 'Recorder'로 변경하면, "Listening" 또는 "Waiting" 상태에서 멈춰버리고 오디오가 전송되지 않는 문제가 발생했습니다.

## 원인 분석
기존 코드에서는 방송 중에 모드를 변경하면, 단순하게 이전 모드(STT)를 끄기만 하고 새로운 모드(Recorder)를 **시작하는 명령**이 빠져 있었습니다. 이로 인해 마이크는 켜져 있지만 아무런 처리를 하지 않는 '먹통' 상태가 되었습니다.

## 해결 방법
**`app.js`의 `setAudioMode` 함수를 전면 수정했습니다.**
1.  **실시간 모드 전환 지원:** 방송 중에 모드를 변경할 경우, 즉시 새로운 모드의 오디오 처리 장치(Recorder 또는 STT)를 실행하도록 로직을 추가했습니다.
2.  **Recorder 시작:** STT → Recorder 전환 시, 기존 마이크 연결(`localStream`)을 재활용하여 끊김 없이 `MediaRecorder`를 시작합니다.
3.  **STT 재시작:** Recorder → STT 전환 시, Recorder를 끄고 STT 엔진을 다시 가동합니다.

## 적용 결과
- 이제 방송 도중 자유롭게 모드를 변경하셔도 오디오가 끊기지 않고 즉시 전환되어 전송됩니다.
- 수정된 코드를 GitHub에 푸시 완료했습니다.
