# 📱 스마트폰을 서버/방송국으로 사용하고 공유기로 성능 높이기

무거운 노트북 대신 **가이드 본인의 핸드폰을 서버**로 사용하면서, **고성능 공유기**를 붙여 60명의 접속을 안정적으로 처리하는 방법입니다.

---

## 1. 하드웨어 구성도

```
[가이드 핸드폰 (서버 + 마이크)] 
       │ 
       │ (USB C-to-Ethernet 어댑터 + 랜선) 또는 (5GHz 와이파이 연결)
       ▼
[고성능 공유기 (AP)]
       │
       │ ((( 와이파이 신호 )))
       │
       ▼
[관광객 핸드폰 1...60]
```

## 2. 준비물

1.  **안드로이드 폰** (가이드용)
    *   **Termux** 앱 설치 필수. (아이폰은 서버 구동 불가)
    *   배터리 소모가 심하므로 **보조배터리 연결 필수**.
2.  **고성능 공유기 (Wi-Fi 6 권장)**
    *   인터넷 연결(WAN)은 필요 없습니다. 전원만 켜면 됩니다.
3.  **(선택, 강력 추천) USB-C 랜 카드 + 랜선**
    *   핸드폰과 공유기를 **유선**으로 연결하면 방송 안정성이 획기적으로 좋아집니다.

---

## 3. 설치 및 설정 순서

### 1단계: 폰에 서버 프로그램 깔기
1.  **Termux 설치**: 플레이스토어에서 Termux 앱 설치.
2.  **설치 스크립트 실행 (한 번만)**:
    (이 과정은 인터넷이 되는 곳에서 미리 해와야 합니다)
    ```bash
    pkg install git -y
    git clone https://github.com/maibauntourph-collab/songsusin.git
    cd songsusin
    chmod +x termux_install.sh
    ./termux_install.sh
    ```

### 2단계: 공유기와 연결하기 (현장)
1.  **공유기 켜기**: 전원 ON.
2.  **연결 방법 (택 1)**:
    *   **방법 A (최고 성능 ⭐)**: USB-C 랜 카드를 폰에 꽂고, 랜선으로 공유기와 직접 연결합니다. (와이파이는 끕니다)
    *   **방법 B (간편함)**: 폰의 와이파이를 켜고 공유기에 연결합니다. (단, 반드시 **5GHz** 대역으로 연결하세요)

### 3단계: 폰에서 서버 실행
1.  Termux 앱을 켭니다.
2.  서버 폴더로 이동 후 실행:
    ```bash
    cd songsusin
    python server.py
    ```
3.  **내 IP 주소 확인**:
    *   Termux에 `ifconfig` 입력.
    *   `192.168.x.x`로 시작하는 IP 주소를 메모해둡니다. (예: `192.168.0.15`)

### 4단계: 방송 시작
1.  **Chrome 브라우저** 열기.
2.  주소창에 `http://localhost:5000` 입력.
3.  "I am Guide" -> "Start Broadcast".

### 5단계: 관광객 접속
1.  관광객들에게 공유기 와이파이(`Guide_WiFi`)에 연결하라고 안내합니다.
2.  브라우저 주소창에 아까 적어둔 가이드 폰의 IP 주소(`http://192.168.0.15:5000`)를 입력하게 합니다.
3.  "I am Tourist" -> "Tap to Enable Audio".

---

## 💡 성능 최적화 팁 (꿀팁)

1.  **서버 폰은 "비행기 모드" 추천**:
    *   전화나 문자가 오면 방송이 끊길 수 있습니다. 비행기 모드를 켜고 와이파이(또는 유선랜)만 연결하세요.
2.  **동시 충전**:
    *   방송 + 서버 구동 + 핫스팟/와이파이는 배터리를 엄청나게 먹습니다. C타입 허브를 써서 **충전과 유선랜을 동시에** 하는 것이 가장 안전합니다.
3.  **화면 켜둠 유지**:
    *   일부 폰은 화면이 꺼지면 앱을 재워버립니다. **"Wake Lock"** 권한을 허용했더라도, 설정에서 **"화면 켜짐 유지"**를 하는 것이 좋습니다.

## ⚠️ 단점 및 한계
*   **음성 번역(STT) 불가**: 인터넷이 되는 공유기가 아니라면, **오직 목소리만** 전달됩니다. (자막 안 나옴)
*   **발열**: 폰이 뜨거워질 수 있습니다. 케이스를 벗기고 쓰세요.
